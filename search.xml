<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>修改hexo生成的html文件名</title>
      <link href="20210302/blog_init_5.html"/>
      <url>20210302/blog_init_5.html</url>
      
        <content type="html"><![CDATA[<h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>exo 默认情况下，生成的HTML文件名是new post时输入的文件名，而在创建文章时，这个文件名输入相信很多人都是输入的中文，那么最终生成博客时，生成的文件也是中文文件命，这个对搜索引擎是比较不友好的，还一个点就是有些插件对url长度有限制，那么中文的文件名url经过url编码后会很长很长，无法使用。下面就来讲讲怎么修改这个url。</p><h2 id="方案"><a href="#方案" class="headerlink" title="方案"></a>方案</h2><p>这个生成文件名的修改网上也有一些方案，比如自己写脚本来批量改相关内容，参考这片文章：<br><a href="https://www.jianshu.com/p/955f81c21543">修改Hexo自动生成的HTML文件名</a></p><p>也有一些现成的插件呀，参考下面这个文章，里面的GitHub连接点进去还有另一个插件：<br><a href="https://blog-website-building-guide.readthedocs.io/zh_CN/stable/source/hexo/advanced/%E6%B0%B8%E4%B9%85%E9%93%BE%E6%8E%A5/">永久链接</a></p><p>不过吧，其实没那么麻烦，因为这个功能hexo本身已经提供了的。</p><p>hexo 根目录下的_config.yml里面有以下参数：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">permalink:</span> <span class="string">:year/:month/:day/:title/</span></span><br><span class="line"><span class="attr">permalink_defaults:</span></span><br></pre></td></tr></table></figure><p>这个其实就是指定了生成文章后的url的，接下来就讲下怎么改，首先看下面这个我的配置：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">permalink:</span> <span class="string">:year:month:day/:urlname.html</span></span><br><span class="line"><span class="attr">permalink_defaults:</span></span><br><span class="line">  <span class="attr">urlname:</span> <span class="string">:title</span></span><br></pre></td></tr></table></figure><p>首先将url的层级减少，但是最好不要减完，减少是因为这样对于搜索引擎比较友好，不减完是为了让文章不至于全部在一个层级里面，这样会很难维护，我这里改成了只有两级。<br>这里可以应用的参数有以下这些默认的：<br><img src="https://cache.wkcaeser.com/uPic/doYGhz.png"/><br>但是有没有发现，上面我的配置里面有个urlname，这里里面并没有，这个参数就是自定义的一个参数，这里是允许我们自定义参数的，就在我们写博客的头部，如我的一个博客的头部内容是：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">基于hexo构建博客</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2021-02-28 17:27:15</span></span><br><span class="line"><span class="attr">tags:</span> <span class="string">博客搭建</span></span><br><span class="line"><span class="attr">urlname:</span> <span class="string">blog_init_2</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><p>那么对应的博客的uri就是/20210228/blog_init_2.html</p><p>这个文件头部模板是在博客的scaffold/post.md配置的，我们可以直接将这个自定义参数加在里面，这样每次新建文章的时候就会自动生成了</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> &#123;&#123; <span class="string">title</span> &#125;&#125;</span><br><span class="line"><span class="attr">date:</span> &#123;&#123; <span class="string">date</span> &#125;&#125;</span><br><span class="line"><span class="attr">tags:</span></span><br><span class="line"><span class="attr">urlname:</span> </span><br><span class="line"><span class="meta">---</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> 博客搭建 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>为hexo引入访问量统计</title>
      <link href="20210301/blog_init_4.html"/>
      <url>20210301/blog_init_4.html</url>
      
        <content type="html"><![CDATA[<h2 id="配置是否开启不蒜子访问量统计功能"><a href="#配置是否开启不蒜子访问量统计功能" class="headerlink" title="配置是否开启不蒜子访问量统计功能"></a>配置是否开启不蒜子访问量统计功能</h2><p>找到你所用主题的_config.yml文件，比如我用的默认的landscape主题，那么路径就是 themes/landscape/_config.yml，加入以下配置</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">busuanzi:</span></span><br><span class="line"> <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="引入不蒜子并添加站点访问量"><a href="#引入不蒜子并添加站点访问量" class="headerlink" title="引入不蒜子并添加站点访问量"></a>引入不蒜子并添加站点访问量</h2><p>找到你的用的主题里面配置底部样式的ejs，一般都是footer.ejs这个文件，比如我的 themes/landscape/layout/_partial/footer.ejs ，加入以下代码：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;% <span class="keyword">if</span> (theme.busuanzi &amp;&amp; theme.busuanzi.enable)&#123; %&gt;</span><br><span class="line">        &lt;!-- 不蒜子统计 --&gt;</span><br><span class="line">        &lt;span id=<span class="string">&quot;busuanzi_container_site_pv&quot;</span>&gt;</span><br><span class="line">                本站总访问量&lt;span id=<span class="string">&quot;busuanzi_value_site_pv&quot;</span>&gt;&lt;/span&gt;次</span><br><span class="line">        &lt;/span&gt;</span><br><span class="line">        &lt;span <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;post-meta-divider&quot;</span>&gt;|&lt;/span&gt;</span><br><span class="line">        &lt;span id=<span class="string">&quot;busuanzi_container_site_uv&quot;</span> style=<span class="string">&#x27;display:none&#x27;</span>&gt;</span><br><span class="line">                本站访客数&lt;span id=<span class="string">&quot;busuanzi_value_site_uv&quot;</span>&gt;&lt;/span&gt;人</span><br><span class="line">        &lt;/span&gt;</span><br><span class="line">        &lt;script <span class="keyword">async</span> src=<span class="string">&quot;//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">  &lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><h2 id="添加文章访问量"><a href="#添加文章访问量" class="headerlink" title="添加文章访问量"></a>添加文章访问量</h2><p>文章显示一般都是带日期，所以文章访问统计可以加到日期展示，一般都是date.ejs，比如我的路径是themes/landscape/layout/_partial/post/date.ejs，加入以下代码：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> &lt;% <span class="keyword">if</span> (theme.busuanzi &amp;&amp; theme.busuanzi.enable &amp;&amp; !index)&#123; %&gt;</span><br><span class="line">        &lt;!-- 不蒜子统计 --&gt;</span><br><span class="line">        &lt;span id=<span class="string">&quot;busuanzi_container_page_pv&quot;</span> style=<span class="string">&#x27;display:none&#x27;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;&lt;%= class_name %&gt;&quot;</span>&gt;</span><br><span class="line">              &lt;i <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;icon-smile icon&quot;</span>&gt;&lt;<span class="regexp">/i&gt; 阅读数：&lt;span id=&quot;busuanzi_value_page_pv&quot;&gt;&lt;/</span>span&gt;次</span><br><span class="line">        &lt;/span&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="注意点"><a href="#注意点" class="headerlink" title="注意点"></a>注意点</h2><p>引入的其实就是一段js，然后几个html元素，具体阅读量啥的在哪展示，由你放置上面这些代码的位置决定的，然后各种主题的目录结构其实都差不多，所以按照我上面所给的路径对照自己的主题基本都是可以接入成功的</p>]]></content>
      
      
      
        <tags>
            
            <tag> 博客搭建 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>为hexo博客接入百度统计个和Google统计</title>
      <link href="20210228/blog_init_3.html"/>
      <url>20210228/blog_init_3.html</url>
      
        <content type="html"><![CDATA[<h2 id="接入百度统计"><a href="#接入百度统计" class="headerlink" title="接入百度统计"></a>接入百度统计</h2><h3 id="开通百度统计账号"><a href="#开通百度统计账号" class="headerlink" title="开通百度统计账号"></a>开通百度统计账号</h3><p>在 <a href="https://tongji.baidu.com/web/welcome/login">百度统计</a> 注册帐号(站长注册)。</p><p>在网站列表中加入自己的网站<br><img src="https://cache.wkcaeser.com/uPic/ke4spD.png"/></p><h3 id="将百度统计代码植入博客"><a href="#将百度统计代码植入博客" class="headerlink" title="将百度统计代码植入博客"></a>将百度统计代码植入博客</h3><p>这里先使用next主题，首先next主题</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 进入到你的hexo博客目录下</span></span><br><span class="line">cd your-hexo-site</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 我这里是默认的landscape主题，其他主题也差不多的操作</span></span><br><span class="line">cd themes</span><br><span class="line"><span class="meta">#</span><span class="bash"> 下载lanscape主题</span></span><br><span class="line">git clone https://github.com/hexojs/hexo-theme-landscape.git</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 创建文件</span></span><br><span class="line">cd landscape</span><br><span class="line">touch layout/_partial/baidu_tongji.ejs</span><br></pre></td></tr></table></figure><p>还记得我们之前申请的百度统计账号么，在代码管理那一栏有一段代码，找到刚刚创建的baidu_tongji.ejs文件，写入以下代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if (theme.baidu_tongji)&#123; %&gt;</span><br><span class="line">  <span class="comment">&lt;!-- baidu_tongji 百度统计网站上的那段代码 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> _hmt = _hmt || [];</span></span><br><span class="line"><span class="javascript">    (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> hm = <span class="built_in">document</span>.createElement(<span class="string">&quot;script&quot;</span>);</span></span><br><span class="line"><span class="javascript">      hm.src = <span class="string">&quot;https://hm.baidu.com/hm.js?ec36f7***1765ac22fe11d7e17f57b00&quot;</span>;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> s = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;script&quot;</span>)[<span class="number">0</span>];</span></span><br><span class="line">      s.parentNode.insertBefore(hm, s);</span><br><span class="line">    &#125;)();</span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- End baidu_tongji --&gt;</span></span><br><span class="line">  &lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><p>然后找到themes/landscape/layout/_partial/head.ejs文件，加入以下代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;%- partial(&#x27;baidu_tongji&#x27;) %&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>在主题的配置文件（themes/landscape/_config.yml）中加入以下配置：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">baidu_tongji:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>配置好以后，重新发布博客就可以了，然后在百度统计页面进行代码安装检查就OK了。<br><img src="https://cache.wkcaeser.com/uPic/dDSv4V.png"></p><h2 id="接入Google统计"><a href="#接入Google统计" class="headerlink" title="接入Google统计"></a>接入Google统计</h2><h3 id="开通Google分析账号"><a href="#开通Google分析账号" class="headerlink" title="开通Google分析账号"></a>开通Google分析账号</h3><p>在<a href="https://marketingplatform.google.com/about/analytics/">Google分析</a> 注册账号</p><p>拿到GA ID<br><img src="https://cache.wkcaeser.com/uPic/H8wnQe.png"/></p><p>landscape是已经集成了Google统计，所以只需要配置一下就行了<br>在主题的配置文件（themes/landscape/_config.yml）中加入以下配置：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">google_analytics:</span> <span class="string">*****</span></span><br></pre></td></tr></table></figure><p>重新发布博客就OK了。</p><h2 id="自动推送链接到百度搜索"><a href="#自动推送链接到百度搜索" class="headerlink" title="自动推送链接到百度搜索"></a>自动推送链接到百度搜索</h2><p>注册<a href="https://ziyuan.baidu.com/">百度资源搜索账号</a></p><p>提交自己的站点，按步骤操作就可以了<br><img src="https://cache.wkcaeser.com/uPic/I437BP.png"/></p><p>站点提交完以后百度就会对博客进行爬取了。</p><p>同时我们可以每次发布时自动推送新链接到百度。</p><p>先安装推送插件：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-baidu-url-submit --save</span><br></pre></td></tr></table></figure><p>在根目录的_config.yml 文件添加以下配置：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">baidu_url_submit:</span><br><span class="line">  count: 100                 # 提交最新的多少个链接</span><br><span class="line">  host: www.wkcaeser.com       # 在百度站长平台中添加的域名</span><br><span class="line">  token:                     # 秘钥</span><br><span class="line">  path: baidu_urls.txt</span><br></pre></td></tr></table></figure><p>秘钥在刚刚百度资源网站上找<br><img src="https://cache.wkcaeser.com/uPic/XNBxmX.png"/></p>]]></content>
      
      
      
        <tags>
            
            <tag> 博客搭建 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基于hexo构建博客</title>
      <link href="20210228/blog_init_2.html"/>
      <url>20210228/blog_init_2.html</url>
      
        <content type="html"><![CDATA[<h1 id="what-is-hexo"><a href="#what-is-hexo" class="headerlink" title="what is hexo"></a>what is hexo</h1><p> hexo 是一个基于GitHub pages托管能力(当然也可以自己直接发布)构建自己博客的一个nodejs 框架，用来搭建自己博客是很方便的。</p><h1 id="构建GitHub-pages博客"><a href="#构建GitHub-pages博客" class="headerlink" title="构建GitHub pages博客"></a>构建GitHub pages博客</h1><p> 在使用hexo博客前最好先使用GitHub pages搭建好自己的博客服务，具体教程参考<a href="">搭建GitHub_pages博客并配置自定义域名cdn加速</a></p><h1 id="安装hexo"><a href="#安装hexo" class="headerlink" title="安装hexo"></a>安装hexo</h1><p> 在安装使用hexo之前，需要先安装nodejs，具体教程参考<a href="https://www.runoob.com/nodejs/nodejs-install-setup.html">nodejs安装配置</a></p><p> node安装完成以后，就可以安装hexo了，打开控制台：<br> <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 全局安装hexo命令</span></span><br><span class="line">npm install -g hexo-cli</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 验证是否安装成功</span></span><br><span class="line">hexo --help</span><br></pre></td></tr></table></figure></p><h1 id="初始化博客"><a href="#初始化博客" class="headerlink" title="初始化博客"></a>初始化博客</h1><p> 创建一个目录，进入到这个博客内部执行初始化命令<br> <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure><br> 在执行命令的时候，遇到一个报错，这个报错是由于小飞机代理引起的，修改gitcofig即可。<br> 报错如下：<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> INFO  Cloning hexo-starter https:&#x2F;&#x2F;github.com&#x2F;hexojs&#x2F;hexo-starter.git</span><br><span class="line">fatal: 无法访问 &#39;https:&#x2F;&#x2F;github.com&#x2F;hexojs&#x2F;hexo-starter.git&#x2F;&#39;：LibreSSL SSL_connect: SSL_ERROR_SYSCALL in connection to github.com:443</span><br><span class="line">WARN  git clone failed. Copying data instead</span><br><span class="line">FATAL &#123;</span><br><span class="line">  err: [Error: ENOENT: no such file or directory, scandir &#39;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;node_modules&#x2F;hexo-cli&#x2F;assets&#39;] &#123;</span><br><span class="line">    errno: -2,</span><br><span class="line">    code: &#39;ENOENT&#39;,</span><br><span class="line">    syscall: &#39;scandir&#39;,</span><br><span class="line">    path: &#39;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;node_modules&#x2F;hexo-cli&#x2F;assets&#39;</span><br><span class="line">  &#125;</span><br><span class="line">&#125; Something&#39;s wrong. Maybe you can find the solution here: %s http:&#x2F;&#x2F;hexo.io&#x2F;docs&#x2F;troubleshooting.html</span><br></pre></td></tr></table></figure><br> 解决方式是编辑git的配置文件：<br> <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.gitconfig</span><br></pre></td></tr></table></figure><br> 写入一下内容，端口是你自己小飞机的端口：<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> [user]</span><br><span class="line">name &#x3D; wkCaeser</span><br><span class="line">email &#x3D; wkCaeser@gmail.com</span><br><span class="line"></span><br><span class="line">[http]</span><br><span class="line">proxy &#x3D; socks5:&#x2F;&#x2F;127.0.0.1:10808</span><br><span class="line">[https]</span><br><span class="line">proxy &#x3D; socks5:&#x2F;&#x2F;127.0.0.1:10808</span><br></pre></td></tr></table></figure><br> 改好以后再重新执行hexo init命令即可，执行完成后目录就多了如下内容：<br> <img src="https://cache.wkcaeser.com/uPic/nPmKWx.png"/></p><p> 然后执行如下操作来查看自己初始化的博客：<br> <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 编译生成博客</span></span><br><span class="line">hexo g</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 本地启动博客服务</span></span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure><br> 然后浏览器中输入 <a href="http://localhost:4000/">http://localhost:4000</a> 就可以看到自己初始化的博客页面了。<br> <img src="https://cache.wkcaeser.com/uPic/P217LT.png"/></p><h1 id="发布到GitHub-pages"><a href="#发布到GitHub-pages" class="headerlink" title="发布到GitHub pages"></a>发布到GitHub pages</h1><p>找到刚刚生成的博客目录下的_config.yml，写入GitHub pages仓库的地址信息：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># gihub pages cname的域名 </span></span><br><span class="line"><span class="comment"># 如果设置了自定义域名或者cdn域名，一定要写页面访问是输入的地址</span></span><br><span class="line"><span class="comment"># 没有的话就写GitHub原本提供的域名</span></span><br><span class="line"><span class="attr">url:</span> <span class="string">https://www.wkcaeser.com</span></span><br><span class="line"></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repository:</span> <span class="string">https://github.com/wkcaeser/blog.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">main</span></span><br></pre></td></tr></table></figure><p>然后找到source目录，创建CNAME文件，文件内容为在GitHub上配置自定义域名，例如我的是：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">blog.wkcaeser.com</span><br></pre></td></tr></table></figure><p>然后执行发布命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 发布到GitHub 需要先配置GitHub的ssh-key</span></span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><p>然后发现报了下面这个错：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">guimokai@wk-mbp:~/Desktop/vs_code_workspace/blog$ hexo d</span><br><span class="line">INFO  Validating config</span><br><span class="line">ERROR Deployer not found: git</span><br></pre></td></tr></table></figure><p>这是因为缺少hexo-deployer-git插件，安装后重新执行发布命令即可：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p>然后就可以通过自己GitHub pages的链接访问博客了，例如我的是 <a href="http://www.wkcaeser.com/">www.wkcaeser.com</a></p><h1 id="写文章"><a href="#写文章" class="headerlink" title="写文章"></a>写文章</h1><p>使用命令如下命令就可以生成新文章了，</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new post &quot;article title&quot;</span><br></pre></td></tr></table></figure><p>也可以直接在source/_post目录下直接新建md文档。</p><p>编写完以后，就可以重新生成，然后发布了</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> 博客搭建 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>搭建GitHub_pages博客并配置自定义域名cdn加速</title>
      <link href="20210227/blog_init_1.html"/>
      <url>20210227/blog_init_1.html</url>
      
        <content type="html"><![CDATA[<h1 id="全部步骤列表"><a href="#全部步骤列表" class="headerlink" title="全部步骤列表"></a>全部步骤列表</h1><ul><li>1、创建GitHub账号</li><li>2、本地安装git</li><li>3、创建GitHub pages repository项目</li><li>4、绑定域名</li><li>5、绑定cdn加速</li></ul><blockquote><p>前面两步暂时就不讲了，可以参考网上其他文章</p></blockquote><h2 id="创建GitHub-pages-repository项目"><a href="#创建GitHub-pages-repository项目" class="headerlink" title="创建GitHub pages repository项目"></a>创建GitHub pages repository项目</h2><ul><li>创建项目</li></ul><hr><strong> 首先选择GitHub页面右上角的加号，选择New repository。</strong><br><img src="https://cache.wkcaeser.com/uPic/VIPomK.png"/><hr><strong> 然后输入项目名，同时自动生成README文件需要勾选上,然后点击Crete repository创建项目。</strong><br><img src="https://cache.wkcaeser.com/uPic/C86iVF.png"/><hr><strong>然后进到刚刚创建的项目主页，点击settings进行项目GitHub pages项目配置，点进去了往下来找到GitHub pages</strong><br><img src="https://cache.wkcaeser.com/uPic/fQROTR.png"/><img src="https://cache.wkcaeser.com/uPic/lpJjsm.png"/><hr><strong>然后在source位置配置博客文件的存放分支和路径，点击save就OK了，页面上会展示出你博客的访问路径了。</strong><br><img src="https://cache.wkcaeser.com/uPic/hfxaZp.png"/><img src="https://cache.wkcaeser.com/uPic/YbF0Hw.png"/><strong>后面将博客需要发布的内容放到GitHub这个仓库里面就可以在博客中看到了</strong><br><h2 id="绑定域名"><a href="#绑定域名" class="headerlink" title="绑定域名"></a>绑定域名</h2><hr><strong>还记我们上面设置创建的仓库为GitHub pages么，在同样的地方设置你的个人域名,需要进行两步操作</strong><ul><li>第一步，在你的域名服务商设置一条CNAME的解析记录，比如我的是腾讯云  </li><li>第二步，在刚刚GitHub pages的配置地方，填写你的域名，点击save，实际上它是在你的仓库生成了一个叫CNAME的文件   </li></ul><br><img src="https://cache.wkcaeser.com/uPic/Dsd9oF.png"/><img src="https://cache.wkcaeser.com/uPic/9JsmrB.png"/><img src="https://cache.wkcaeser.com/uPic/kWSnAe.png"/><hr><strong>这时候你访问你的个人域名就可以访问你的博客，但是有个问题，你会发现你访问的域名是http的请求，所以还需要配置https，这一步现在GitHub会自动帮你完成的，你只需要刷新页面等待即可。</strong><br><ul><li>等enforce https 可以点击的时候点击勾选就可以了  </li><li>上面那个绿色条条显示的是TLS证书的申请进度，等他走完了刷新页面勾选enforce HTTPS即可   </li></ul><img src="https://cache.wkcaeser.com/uPic/B5ZzKs.png"/><hr><strong>勾选以后你会发现你的访问链接变成HTTPS的了，如果还不是多刷新几次 </strong><br><img src="https://cache.wkcaeser.com/uPic/rpZgkM.png"/><h2 id="绑定cdn加速"><a href="#绑定cdn加速" class="headerlink" title="绑定cdn加速"></a>绑定cdn加速</h2><p>给GitHub pages绑定cdn加速其实各个服务上操作都差不多，主要是几个概念要理解清楚，这几个概念折腾请求了就很容易配了（mmp，当时我理解错了回源host的含义，主要是很多博客上也说得错的或者很含糊，折腾了一天，在各个云上都试了下提工单看文档才搞定）。</p><ul><li>加速域名：你访问时在浏览器里面输入的域名</li><li>源站域名：你的服务放在哪个服务器上，那个服务器绑定的域名，cdn会解析到对应的ip，一般是个负载均衡的域名，能解析出多个ip，cdn会解析到对应ip</li><li>回源host（回源域名）：回源请求访问哪个域名，上面说到了源站域名可能会解析出多个ip，而这些ip上可能又绑定的有多个域名，这个域名就决定了访问这个ip时的请求用什么域名去访问</li></ul><p>下面是我在企鹅云的配置：</p><ul><li>加速域名是<a href="http://www.wkcaeser.com/">www.wkcaeser.com</a> </li><li>源站域名是我之前在GitHub pages配置的个人域名 blog.wkcaeser.com </li><li>回源host是 blog.wkcaeser.com (这里如果在GitHub配置了个人域名一定要写个人域名，不然会有解析死循环的问题)，如果配置的时候GitHub pages提供的那个域名的话（比如我是 wkcaeser.github.io），还需要配置下url路径重写（因为实际访问地址是 wkcaeser.github.io/blog），和NGINX差不多 <img src="https://cache.wkcaeser.com/uPic/hrUbVT.png"/></li></ul><p>另外，最好cdn回源配置里面的“回源跟随301/302配置”勾选上，不然有些基于GitHub pages的框架在访问时重定向可能会有问题（比如hexo）<br><img src="https://cache.wkcaeser.com/uPic/kZUttq.png"/></p>]]></content>
      
      
      
        <tags>
            
            <tag> 博客搭建 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
